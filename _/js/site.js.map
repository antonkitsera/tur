{"version":3,"sources":["js/01-nav.js","js/02-fragment-jumper.js","js/03-page-versions.js","js/04-mobile-navbar.js"],"names":["navContainer","document","querySelector","navToggle","addEventListener","e","classList","contains","hideNav","html","documentElement","add","concealEvent","menuPanel","from","selector","nav","currentPageItem","navItem","ancestorClasses","ancestor","parentNode","tagName","activateCurrentPath","panel","el","rect","getBoundingClientRect","effectiveHeight","height","navStyle","window","getComputedStyle","position","top","parseFloat","scrollTop","Math","max","offsetTop","scrollItemToMidpoint","slice","call","querySelectorAll","forEach","btn","li","parentElement","toggleActive","bind","navItemSpan","nextElementSibling","nextSibling","nodeType","matches","findNextElement","style","cursor","currentPanel","activatePanel","dataset","toggle","detail","preventDefault","this","remove","removeEventListener","stopPropagation","article","toolbar","jumpToAnchor","location","hash","id","scrollTo","computePosition","sum","offsetParent","bottom","jumpOnLoad","target","getElementById","setTimeout","Array","prototype","navbarToggles","length"],"mappings":"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","file":"js/site.js","sourcesContent":[";(function () {\n  'use strict'\n\n  var navContainer = document.querySelector('.nav-container')\n  var navToggle = document.querySelector('.nav-toggle')\n\n  navToggle.addEventListener('click', showNav)\n  // NOTE don't let click events propagate outside of nav container\n  navContainer.addEventListener('click', concealEvent)\n\n  var menuPanel = navContainer.querySelector('[data-panel=menu]')\n  if (!menuPanel) return\n  var nav = navContainer.querySelector('.nav')\n\n  var currentPageItem = menuPanel.querySelector('.is-current-page')\n  if (currentPageItem) {\n    activateCurrentPath(currentPageItem)\n    scrollItemToMidpoint(menuPanel, currentPageItem.querySelector('.nav-link'))\n  } else {\n    menuPanel.scrollTop = 0\n  }\n\n  find(menuPanel, '.nav-item-toggle').forEach(function (btn) {\n    var li = btn.parentElement\n    btn.addEventListener('click', toggleActive.bind(li))\n    var navItemSpan = findNextElement(btn, '.nav-text')\n    if (navItemSpan) {\n      navItemSpan.style.cursor = 'pointer'\n      navItemSpan.addEventListener('click', toggleActive.bind(li))\n    }\n  })\n\n  nav.querySelector('.context').addEventListener('click', function () {\n    var currentPanel = nav.querySelector('.is-active[data-panel]')\n    var activatePanel = currentPanel.dataset.panel === 'menu' ? 'explore' : 'menu'\n    currentPanel.classList.toggle('is-active')\n    nav.querySelector('[data-panel=' + activatePanel + ']').classList.toggle('is-active')\n  })\n\n  // NOTE prevent text from being selected by double click\n  menuPanel.addEventListener('mousedown', function (e) {\n    if (e.detail > 1) e.preventDefault()\n  })\n\n  function activateCurrentPath (navItem) {\n    var ancestorClasses\n    var ancestor = navItem.parentNode\n    while (!(ancestorClasses = ancestor.classList).contains('nav-menu')) {\n      if (ancestor.tagName === 'LI' && ancestorClasses.contains('nav-item')) {\n        ancestorClasses.add('is-active', 'is-current-path')\n      }\n      ancestor = ancestor.parentNode\n    }\n    navItem.classList.add('is-active')\n  }\n\n  function toggleActive () {\n    this.classList.toggle('is-active')\n  }\n\n  function showNav (e) {\n    if (navToggle.classList.contains('is-active')) return hideNav(e)\n    var html = document.documentElement\n    html.classList.add('is-clipped--nav')\n    navToggle.classList.add('is-active')\n    navContainer.classList.add('is-active')\n    html.addEventListener('click', hideNav)\n    concealEvent(e)\n  }\n\n  function hideNav (e) {\n    var html = document.documentElement\n    html.classList.remove('is-clipped--nav')\n    navToggle.classList.remove('is-active')\n    navContainer.classList.remove('is-active')\n    html.removeEventListener('click', hideNav)\n    concealEvent(e)\n  }\n\n  // NOTE don't let event get picked up by window click listener\n  function concealEvent (e) {\n    e.stopPropagation()\n  }\n\n  function scrollItemToMidpoint (panel, el) {\n    var rect = panel.getBoundingClientRect()\n    var effectiveHeight = rect.height\n    var navStyle = window.getComputedStyle(nav)\n    if (navStyle.position === 'sticky') effectiveHeight -= rect.top - parseFloat(navStyle.top)\n    panel.scrollTop = Math.max(0, (el.getBoundingClientRect().height - effectiveHeight) * 0.5 + el.offsetTop)\n  }\n\n  function find (from, selector) {\n    return [].slice.call(from.querySelectorAll(selector))\n  }\n\n  function findNextElement (from, selector) {\n    var el\n    if ('nextElementSibling' in from) {\n      el = from.nextElementSibling\n    } else {\n      el = from\n      while ((el = el.nextSibling) && el.nodeType !== 1);\n    }\n    return el && selector ? el[el.matches ? 'matches' : 'msMatchesSelector'](selector) && el : el\n  }\n})()\n",";(function () {\n  'use strict'\n\n  var article = document.querySelector('article.doc')\n  var toolbar = document.querySelector('.toolbar')\n\n  function computePosition (el, sum) {\n    if (article.contains(el)) {\n      return computePosition(el.offsetParent, el.offsetTop + sum)\n    } else {\n      return sum\n    }\n  }\n\n  function jumpToAnchor (e) {\n    if (e) {\n      window.location.hash = '#' + this.id\n      e.preventDefault()\n    }\n    window.scrollTo(0, computePosition(this, 0) - toolbar.getBoundingClientRect().bottom)\n  }\n\n  window.addEventListener('load', function jumpOnLoad (e) {\n    var hash, target\n    if ((hash = window.location.hash) && (target = document.getElementById(hash.slice(1)))) {\n      jumpToAnchor.bind(target)()\n      setTimeout(jumpToAnchor.bind(target), 0)\n    }\n    window.removeEventListener('load', jumpOnLoad)\n  })\n\n  Array.prototype.slice.call(document.querySelectorAll('a[href^=\"#\"]')).forEach(function (el) {\n    var hash, target\n    if ((hash = el.hash.slice(1)) && (target = document.getElementById(hash))) {\n      el.addEventListener('click', jumpToAnchor.bind(target))\n    }\n  })\n})()\n",";(function () {\n  'use strict'\n\n  var toggle = document.querySelector('.page-versions .version-menu-toggle')\n  if (!toggle) return\n\n  var selector = document.querySelector('.page-versions')\n\n  toggle.addEventListener('click', function (e) {\n    selector.classList.toggle('is-active')\n    // don't let this event get smothered\n    e.stopPropagation()\n  })\n\n  document.documentElement.addEventListener('click', function () {\n    selector.classList.remove('is-active')\n  })\n})()\n","document.addEventListener('DOMContentLoaded', function () {\n  var navbarToggles = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0)\n  if (navbarToggles.length === 0) return\n  navbarToggles.forEach(function (el) {\n    el.addEventListener('click', function (e) {\n      e.stopPropagation()\n      el.classList.toggle('is-active')\n      document.getElementById(el.dataset.target).classList.toggle('is-active')\n      document.documentElement.classList.toggle('is-clipped--navbar')\n    })\n  })\n})\n"]}